{
  "openapi": "3.0.0",
  "info": {
    "title": "NexusEvo Tenant API - Send Message",
    "description": "API de envío de mensajes para usuarios de tenants en la plataforma NexusEvo.",
    "version": "1.1.0"
  },
  "servers": [
    {
      "url": "https://{tenant}.{baseUrl}/api/",
      "variables": {
        "tenant": { "default": "my-tenant" },
        "baseUrl": { "default": "nexusevo.net" }
      }
    }
  ],
  "paths": {
    "/message/send-text": {
      "post": {
        "summary": "Enviar mensaje de texto",
        "tags": ["Send Message"],
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/TextMsgRequest" } } }
        },
        "responses": { "200": { "description": "Mensaje enviado" } }
      }
    },
    "/message/send-media": {
      "post": {
        "summary": "Enviar media (imagen, video, audio)",
        "tags": ["Send Message"],
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/MediaMsgRequest" } } }
        },
        "responses": { "200": { "description": "Media enviada" } }
      }
    },
    "/message/send-pdf": {
      "post": {
        "summary": "Enviar archivo PDF",
        "tags": ["Send Message"],
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PdfMsgRequest" } } }
        },
        "responses": { "200": { "description": "PDF enviado" } }
      }
    },
    "/message/send-location": {
      "post": {
        "summary": "Enviar ubicación",
        "tags": ["Send Message"],
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/LocationMsgRequest" } } }
        },
        "responses": { "200": { "description": "Ubicación enviada" } }
      }
    },
    "/message/send-contact": {
      "post": {
        "summary": "Enviar contacto",
        "tags": ["Send Message"],
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ContactMsgRequest" } } }
        },
        "responses": { "200": { "description": "Contacto enviado" } }
      }
    }
  },
  "components": {
    "securitySchemes": { "bearerAuth": { "type": "http", "scheme": "bearer" } },
    "schemas": {
      "TextMsgRequest": {
        "type": "object",
        "required": ["number", "message"],
        "properties": { "number": { "type": "string" }, "message": { "type": "string" } }
      },
      "MediaMsgRequest": {
        "type": "object",
        "required": ["number", "mediaUrl", "mediaType"],
        "properties": { "number": { "type": "string" }, "mediaUrl": { "type": "string" }, "mediaType": { "type": "string", "enum": ["image", "video", "audio"] }, "caption": { "type": "string" } }
      },
      "PdfMsgRequest": {
        "type": "object",
        "required": ["number", "pdfUrl"],
        "properties": { "number": { "type": "string" }, "pdfUrl": { "type": "string" }, "fileName": { "type": "string" } }
      },
      "LocationMsgRequest": {
        "type": "object",
        "required": ["number", "latitude", "longitude"],
        "properties": { "number": { "type": "string" }, "latitude": { "type": "number" }, "longitude": { "type": "number" }, "name": { "type": "string" }, "address": { "type": "string" } }
      },
      "ContactMsgRequest": {
        "type": "object",
        "required": ["number", "contactNumber", "displayName"],
        "properties": { "number": { "type": "string" }, "contactNumber": { "type": "string" }, "displayName": { "type": "string" } }
      }
    }
  }
}
